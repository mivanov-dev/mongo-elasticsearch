<p>Hi</p>

<div style="display: grid; width: max-content;">
    <p>Add User</p>
    <input id="email"
           placeholder="email"
           type="text"
           value="demo@demo.com">
    <input id="password"
           placeholder="password"
           type="text"
           value="1234567890">
    <input id="locale"
           placeholder="locale"
           type="text"
           value="bg">
    <button id="add">add</button>
</div>

<div>
    <p>Search</p>
    <input id="search"
           type="search">
</div>

<div id="result"></div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/socket.io-client@3/dist/socket.io.min.js"></script>

<script>
    const search = document.getElementById('search');
    const add = document.getElementById('add');

    search.addEventListener("keyup", (e) => {

        e.preventDefault();
        sendMsg('search', search.value);

    });
    add.addEventListener('click', (e) => {

        e.preventDefault();
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        var locale = document.getElementById('locale').value;
        sendMsg('add', { email, password, locale });

    });

    /**
     *  socket.io
     */
    var socket = io();

    function getMsg(chanel) {

        const parent = document.getElementById('result');

        socket.on(chanel, (msg) => {

            parent.innerHTML = '';

            if (typeof msg === "string") {
                parent.innerHTML = msg;
            }
            else if (Array.isArray(msg)) {
                msg.forEach(i => {
                    const p = document.createElement("p");
                    p.innerHTML = JSON.stringify(i, null, '\t');
                    parent.appendChild(p);
                });
            }
            else {
                const pre = document.createElement("pre");
                pre.innerHTML = JSON.stringify(msg, null, '\t');
                parent.appendChild(pre);
            }
        });
    }
    function sendMsg(chanel, str) {
        socket.emit(chanel, str);
    }

    getMsg('add');
    getMsg('search');
</script>